<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>TODO supply a title</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>
    <h:body>
        <div>
            <h:form id="registerForm">
                <p:panelGrid columns="3">
                    <f:facet name="header">#{lang.rForm}</f:facet>

                    <p:outputLabel value="#{lang.username} : "/>
                    <p:inputText value="#{registerBean.username}" 
                                 id="username" 
                                 required="true" 
                                 requiredMessage="#{lang.userRequired}"/>
                    <p:message for="username" />

                    <p:outputLabel value="#{lang.password} : "/>
                    <p:password value="#{registerBean.password}" 
                                id="password" 
                                match="passwordConfirm" 
                                feedback="true" 
                                promptLabel="#{lang.promptLabel}"
                                required="true" 
                                requiredMessage="#{lang.passRequired}" 
                                label="#{lang.password}"
                                validatorMessage="#{lang.passValidate}"/>
                    <p:message for="password"/>

                    <p:outputLabel value="#{lang.cPassword} : "/>
                    <p:password id="passwordConfirm" 
                                value="#{registerBean.password}" 
                                feedback="true" 
                                promptLabel="#{lang.promptLabel}"
                                required="true" 
                                label="#{lang.cPassword}" 
                                validatorMessage="#{lang.passValidate}" 
                                requiredMessage="#{lang.passRequired}"/>
                    <p:message for="passwordConfirm"/>

                    <p:outputLabel value="Email :"/>
                    <p:inputText value="#{registerBean.email}" 
                                 id="mail" 
                                 validatorMessage="#{lang.wrongEmail}!" 
                                 required="true" 
                                 requiredMessage="#{lang.mailRequired}">
                        <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$"/>
                    </p:inputText>
                    <p:message for="mail"/>

                    <p:outputLabel value="#{lang.fullName}:"/>
                    <p:inputText value="#{registerBean.fullname}"/>
                </p:panelGrid>
                <p:commandButton value="#{lang.register}" action="#{registerBean.register()}" update=":registerForm"/>
            </h:form>
        </div>
    </h:body>
</html>